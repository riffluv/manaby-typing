{
  "collectionTargets": {
    "performance": {
      "enabled": true,
      "metrics": [
        {
          "id": "frameRate",
          "description": "フレームレート測定",
          "method": "sampling",
          "interval": 5000,
          "threshold": {
            "warning": 45,
            "critical": 30
          }
        },
        {
          "id": "inputLatency",
          "description": "タイピング入力の反応速度",
          "method": "event",
          "threshold": {
            "warning": 50,
            "critical": 100
          }
        },
        {
          "id": "memoryUsage",
          "description": "メモリ使用量",
          "method": "sampling",
          "interval": 10000
        }
      ]
    },
    "typing": {
      "enabled": true,
      "metrics": [
        {
          "id": "kpm",
          "description": "分あたりのキー入力数",
          "method": "calculated",
          "aggregations": ["average", "max", "distribution"]
        },
        {
          "id": "accuracy",
          "description": "タイピング精度",
          "method": "calculated",
          "aggregations": ["average", "min"]
        },
        {
          "id": "mistakePatterns",
          "description": "頻繁に間違えるキーの分析",
          "method": "aggregate"
        }
      ]
    },
    "user": {
      "enabled": true,
      "metrics": [
        {
          "id": "sessionLength",
          "description": "一回のプレイ時間",
          "method": "event"
        },
        {
          "id": "retryRate",
          "description": "リトライ率",
          "method": "calculated"
        },
        {
          "id": "featureUsage",
          "description": "機能の使用状況",
          "method": "event"
        }
      ]
    }
  },
  "storage": {
    "local": {
      "enabled": true,
      "path": ".modelcontext/metrics/data",
      "rotation": {
        "maxSize": "10MB",
        "maxAge": "30d"
      }
    },
    "remote": {
      "enabled": true,
      "provider": "github",
      "path": "metrics",
      "syncInterval": "daily"
    }
  },
  "visualization": {
    "enabled": true,
    "dashboardPath": ".modelcontext/metrics/dashboard.html"
  }
}