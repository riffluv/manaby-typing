{
  "projectType": "next.js-application",
  "components": {
    "ui": {
      "mainComponents": [
        {
          "name": "MainMenu",
          "path": "src/components/MainMenu.js",
          "description": "ゲームのメインメニュー画面",
          "dependencies": ["GameContext", "SoundUtils", "ButtonStyleUtils"]
        },
        {
          "name": "GameScreen",
          "path": "src/components/GameScreen.js",
          "description": "タイピング実行画面",
          "dependencies": ["GameContext", "useTypingGame", "SoundUtils"]
        },
        {
          "name": "ResultScreen",
          "path": "src/components/ResultScreen.js",
          "description": "ゲーム結果表示画面",
          "dependencies": ["GameContext", "FirebaseUtils", "RecordUtils"]
        },
        {
          "name": "RankingScreen",
          "path": "src/components/RankingScreen.js",
          "description": "オンラインランキング表示画面",
          "dependencies": ["GameContext", "FirebaseUtils"]
        },
        {
          "name": "CreditsScreen",
          "path": "src/components/CreditsScreen.js",
          "description": "クレジット表示画面",
          "dependencies": ["GameContext", "CreditsData"]
        }
      ],
      "subComponents": [
        {
          "name": "TypingDisplay",
          "path": "src/components/typing/TypingDisplay.js",
          "description": "入力中のテキスト表示コンポーネント"
        },
        {
          "name": "ProblemDisplay",
          "path": "src/components/typing/ProblemDisplay.js",
          "description": "問題文表示コンポーネント"
        },
        {
          "name": "ProgressBar",
          "path": "src/components/typing/ProgressBar.js",
          "description": "進捗バーコンポーネント"
        },
        {
          "name": "ComboDisplay",
          "path": "src/components/typing/ComboDisplay.js",
          "description": "コンボ表示コンポーネント"
        }
      ]
    },
    "contexts": [
      {
        "name": "GameContext",
        "path": "src/contexts/GameContext.js",
        "description": "ゲームの状態管理コンテキスト",
        "dependencies": ["ProblemData", "SoundUtils", "StorageUtils"]
      },
      {
        "name": "ToastContext",
        "path": "src/contexts/ToastContext.js",
        "description": "通知メッセージの表示を管理するコンテキスト"
      }
    ],
    "hooks": [
      {
        "name": "useTypingGame",
        "path": "src/hooks/useTypingGame.js",
        "description": "タイピングゲームの主要ロジックを管理するフック",
        "dependencies": ["TypingWorkerManager", "SoundUtils"]
      }
    ],
    "utils": [
      {
        "name": "FirebaseUtils",
        "path": "src/utils/FirebaseUtils.js",
        "description": "Firebase連携機能",
        "dependencies": ["TypingUtils"]
      },
      {
        "name": "SoundUtils",
        "path": "src/utils/SoundUtils.js",
        "description": "サウンド管理機能"
      },
      {
        "name": "StorageUtils",
        "path": "src/utils/StorageUtils.js",
        "description": "ローカルストレージ管理機能"
      },
      {
        "name": "TypingUtils",
        "path": "src/utils/TypingUtils.js",
        "description": "タイピング処理のユーティリティ機能"
      },
      {
        "name": "ProblemData",
        "path": "src/utils/ProblemData.js",
        "description": "タイピング問題データ管理"
      },
      {
        "name": "RecordUtils",
        "path": "src/utils/RecordUtils.js",
        "description": "スコア記録管理機能"
      },
      {
        "name": "TypingWorkerManager",
        "path": "src/utils/TypingWorkerManager.js",
        "description": "WebWorkerの管理機能",
        "dependencies": ["typing-worker"]
      }
    ],
    "workers": [
      {
        "name": "typing-worker",
        "path": "src/workers/typing-worker.js",
        "description": "タイピング処理のためのWebWorker"
      }
    ]
  },
  "dataFlow": {
    "userInput": [
      "GameScreen",
      "useTypingGame",
      "TypingWorkerManager",
      "typing-worker"
    ],
    "gameState": [
      "GameContext",
      "GameScreen",
      "MainMenu",
      "ResultScreen"
    ],
    "scoreData": [
      "ResultScreen",
      "RecordUtils",
      "FirebaseUtils",
      "RankingScreen"
    ]
  },
  "performance": {
    "criticalPaths": [
      {
        "name": "typing-input-path",
        "components": ["GameScreen", "useTypingGame", "TypingWorkerManager", "typing-worker"],
        "description": "タイピング入力からフィードバックまでの処理パス"
      },
      {
        "name": "scoring-path",
        "components": ["GameScreen", "useTypingGame", "GameContext", "ResultScreen"],
        "description": "ゲーム終了から結果表示までの処理パス"
      }
    ],
    "bottlenecks": [
      {
        "component": "typing-worker",
        "metric": "inputLatency",
        "threshold": 16,
        "unit": "ms",
        "description": "タイピング入力の待ち時間"
      },
      {
        "component": "SoundUtils",
        "metric": "audioInitTime",
        "threshold": 100,
        "unit": "ms",
        "description": "サウンド初期化時間"
      }
    ]
  },
  "metricsCollection": {
    "playerMetrics": [
      {
        "name": "kpm",
        "description": "分あたりのキー入力数",
        "collection": "automatic",
        "aggregation": "average"
      },
      {
        "name": "accuracy",
        "description": "入力精度",
        "collection": "automatic",
        "aggregation": "average"
      },
      {
        "name": "completionTime",
        "description": "問題完了に要した時間",
        "collection": "automatic",
        "aggregation": "average"
      }
    ],
    "systemMetrics": [
      {
        "name": "frameRate",
        "description": "表示のフレームレート",
        "collection": "sampling",
        "interval": 1000,
        "unit": "fps"
      },
      {
        "name": "inputLatency",
        "description": "入力から表示までの遅延",
        "collection": "sampling",
        "interval": 100,
        "unit": "ms"
      }
    ]
  }
}